function oSendpulsePush(){var f="http://naukacity.ru";var g="http://naukacity.ru";var a="https://naukacity.sendpulse.com";var r="https://naukacity.sendpulse.com";var l=true;var e=true;var D="3cfff868bc7339ca922427545decd238";var d="";var B="";var t="";var h="https://pushdata.sendpulse.com:4434";var x="https://pushdata.sendpulse.com:4435";var i="web.com.sendpulse.push";var p={};var C="";var w=null;var m=null;var q=null;var k={};var s=false;var u="1";var b="sendpulse.com";var A={ru:"Предоставлено SendPulse",en:"Powered by SendPulse",ua:"Надано SendPulse",de:"Unterstützt von SendPulse"};var n={ru:"запрашивает разрешение на:",en:"wants to:",ua:"запитує дозвіл на:",de:"bittet eine Erlaubnis"};var j={ru:"Показывать оповещения",en:"Show notifications",ua:"Показувати сповіщення",de:"Benachrichtigunggen anzuzeigen"};var v={ru:"Разрешить",en:"Allow",ua:"Дозволити",de:"Erlauben"};var z={ru:"Блокировать",en:"Block",ua:"Блокувати",de:"Blockieren"};var o=false;var y="20";var c="28edd3380a1c17cf65b137fe96516659";this.start=function(){if(!oSpP.detectSite()){oSpP.log("Application allowed only for "+f);return false}if(oSpP.detectOs()=="iOS"){oSpP.log("Application can not work on iOS");return false}var E=oSpP.detectOs();if(!e){if((E=="iOS")||(E=="Android")){oSpP.log("Application disabled for your device");return false}}p=oSpP.detectBrowser();C=p.name.toLowerCase();if((C=="chrome")&&(parseFloat(p.version)<42)){oSpP.log("Application can not work with Crome browser version less then 42");return false}if((C=="firefox")&&(parseFloat(p.version)<44)){oSpP.log("Application can not work with Firefox browser version less then 44");return false}if((C=="firefox")&&(E=="Android")){oSpP.log("Application can not work with Firefox on Android");return false}if(C=="firefox"){a=r}if((C=="chrome")||(C=="firefox")||(C=="opera")){window.addEventListener("message",function(H){if(H.origin.toLowerCase()==a.toLowerCase()){if(H.data=="initend"){clearInterval(m)}else{if(H.data=="closeme"){q.close()}else{oSpP.storeSubscription(H.data)}}}},false);if(l){oSpP.getDbValue("SPIDs","SubscriptionId",function(H){if(H.target.result===undefined){oSpP.getDbValue("SPIDs","PromptClosed",function(J){if(J.target.result===undefined){oSpP.startDelayedSubscription(oSpP.showPrompt)}else{var I=parseInt(J.target.result.value);I--;if(I==0){oSpP.deleteDbValue("SPIDs","PromptClosed");oSpP.startDelayedSubscription(oSpP.showPrompt)}else{oSpP.putValueToDb("SPIDs",{type:"PromptClosed",value:I})}}})}})}else{var G=document.querySelectorAll(".sp_notify_prompt");for(var F=0;F<G.length;F++){G[F].addEventListener("click",function(){oSpP.showPopUp()})}}}else{if(C=="safari"){if(l){oSpP.startDelayedSubscription(oSpP.startSubscription)}else{var G=document.querySelectorAll(".sp_notify_prompt");for(var F=0;F<G.length;F++){G[F].addEventListener("click",function(){oSpP.startSubscription()})}}}}};this.startSubscription=function(){switch(C){case"safari":if(oSpP.isSafariNotificationSupported()){var E=window.safari.pushNotification.permission(i);oSpP.checkSafariPermission(E)}break}};this.checkCookie=function(F){for(var H=F+"=",G=document.cookie.split(";"),I=0;I<G.length;I++){for(var E=G[I];" "==E.charAt(0);){E=E.substring(1)}if(0==E.indexOf(H)){return E.substring(H.length,E.length)}}return""};this.checkSafariPermission=function(E){oSpP.log("[DD] Permissions: "+E.permission);if(E.permission==="default"){o=true;oSpP.getDbValue("SPIDs","PromptShowed",function(F){if(F.target.result===undefined){oSpP.sendPromptStat("prompt_showed");oSpP.putValueToDb("SPIDs",{type:"PromptShowed",value:1})}else{oSpP.sendPromptStat("prompt_showed_again")}});window.safari.pushNotification.requestPermission(h,i,{appkey:D},oSpP.checkSafariPermission)}else{if(E.permission==="denied"){if(o){oSpP.sendPromptStat("prompt_denied")}}else{if(E.permission==="granted"){oSpP.uns();if(o){oSpP.sendPromptStat("prompt_granted")}oSpP.subscribe()}}}};this.subscribe=function(){switch(C){case"safari":var F=window.safari.pushNotification.permission(i);if(F.permission==="granted"){var E=F.deviceToken;oSpP.checkLocalSubsctoption(E)}break}};this.checkLocalSubsctoption=function(E){oSpP.log("[DD] subscribe :: subscriptionId: "+E);oSpP.getDbValue("SPIDs","SubscriptionId",function(F){if(F.target.result===undefined){oSpP.sendSubscribeDataToServer(E,"subscribe");oSpP.putValueToDb("SPIDs",{type:"SubscriptionId",value:E})}else{if(F.target.result.value!==E){oSpP.sendSubscribeDataToServer(F.target.result.value,"unsubscribe");oSpP.sendSubscribeDataToServer(E,"subscribe");oSpP.putValueToDb("SPIDs",{type:"SubscriptionId",value:E})}}})};this.sendSubscribeDataToServer=function(F,J,G){var I=new XMLHttpRequest();I.open("POST",h,true);I.setRequestHeader("Content-Type","application/json");if(G===undefined){G={};G.uname=oSpP.checkCookie("lgn");G.os=oSpP.detectOs()}G.variables=oSpP.getUserVariables();var E=window.location.href;var H={action:"subscription",subscriptionId:F,subscription_action:J,appkey:D,browser:p,lang:oSpP.getBrowserlanguage(),url:E,custom_data:G};I.send(JSON.stringify(H))};this.isSafariNotificationSupported=function(){return"safari" in window&&"pushNotification" in window.safari};this.storeSubscription=function(E){oSpP.log("StoreSubscription: "+E);oSpP.putValueToDb("SPIDs",{type:"SubscriptionId",value:E})};this.clearDomain=function(E){return E.replace("://www.","://").replace("://www2.","://")};this.detectSite=function(){var E=(!(oSpP.clearDomain(window.location.href.toLowerCase()).indexOf(oSpP.clearDomain(f.toLowerCase()))===-1));if(!E){E=(!(oSpP.clearDomain(window.location.href.toLowerCase()).indexOf(oSpP.clearDomain(g.toLowerCase()))===-1))}return E};this.getBrowserlanguage=function(){return navigator.language.substring(0,2)};this.getUserVariables=function(){var F={};var E=document.querySelectorAll("input.sp_push_custom_data");for(var G=0;G<E.length;G++){switch(E[G].type){case"text":case"hidden":F[E[G].name]=E[G].value;break;case"checkbox":F[E[G].name]=(E[G].checked)?1:0;break;case"radio":if(E[G].checked){F[E[G].name]=E[G].value}break}}return F};this.showPopUp=function(){if(l){oSpP.sendPromptStat("prompt_granted")}else{}var L=580;var H=580;var J=window.screenLeft!==undefined?window.screenLeft:screen.left;var E=window.screenTop!==undefined?window.screenTop:screen.top;var F=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;var M=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var G=((F/2)-(L/2))+J;var K=((M/3)-(M/3))+E;var I=oSpP.getBrowserlanguage();if(I==""){I="en"}q=window.open(a+"/"+c+"/"+I+"/"+D,"_blank","scrollbars=yes, width="+L+", height="+H+", top="+K+", left="+G);if(window.focus){q.focus()}m=setInterval(function(){q.postMessage("init",a);q.postMessage("initpage|"+window.location.href,a);q.postMessage("initvariables|"+JSON.stringify(oSpP.getUserVariables()),a)},100);if(l){oSpP.closePrompt(true)}};this.showPrompt=function(){oSpP.getDbValue("SPIDs","PromptShowed",function(ac){if(ac.target.result===undefined){oSpP.sendPromptStat("prompt_showed");oSpP.putValueToDb("SPIDs",{type:"PromptShowed",value:1})}else{oSpP.sendPromptStat("prompt_showed_again")}});var M=document.getElementsByTagName("head")[0];var I=document.createElement("link");I.rel="stylesheet";I.type="text/css";I.href="https://cdn.sendpulse.com/css/push/sendpulse-prompt.min.css";I.media="all";M.appendChild(I);var J=oSpP.getMessageLang(oSpP.getBrowserlanguage());var V;var R="sendpulse-popover";var X="display:none;";var N=true;if(typeof u!="undefined"){if(u==0){N=false}}if(d.length>0){var H='<svg style="display: none;"><symbol id="sp_bell_icon"><path d="M139.165 51.42L103.39 15.558C43.412 61.202 3.74 132.185 0 212.402h50.174c3.742-66.41 37.877-124.636 88.99-160.98zM474.98 212.403h50.173c-3.742-80.217-43.413-151.2-103.586-196.845L385.704 51.42c51.398 36.346 85.533 94.572 89.275 160.982zm-49.388 12.582c0-77-53.39-141.463-125.424-158.487v-17.09c0-20.786-16.76-37.613-37.592-37.613s-37.592 16.827-37.592 37.614v17.09C152.95 83.52 99.56 148.004 99.56 224.983v137.918L49.408 413.01v25.076h426.336V413.01l-50.152-50.108V224.984zM262.576 513.358c3.523 0 6.76-.22 10.065-1.007 16.237-3.237 29.825-14.528 36.06-29.626 2.517-5.952 4.05-12.494 4.05-19.54H212.4c0 27.593 22.582 50.174 50.174 50.174z" /></symbol></svg>';var U='<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAMAAAAMCGV4AAAAk1BMVEUNkaAmtrIltLEMj58Mj58mtrIks7EfrK0MkKD///8Pk6EmtrIisK8cp6oTmaQRlqIZoqkVnKaz4OL7/v7t+PhjvsT4/P3l9vbY8PDM6uy74+Ww3uGc2dt3ysx1xMoyrLLx+fro9vat4+Kj2t2NztOB0dF/yc5myMhevsNMwL8/u7pMsLlDr7cyuLY9sbY7p7IkpazkILODAAAABnRSTlPn5ubmSkmZnvKZAAAAiElEQVQI10XHVRbCQBBE0SJGeoCxuONu+18dpDPn5P7UK4SL1WwRwovYnl7jeIgmBd14sWZ3ogsHlqwjOnG4b8uknf6G7dqi5oAevelalXo4ZBqaiIYu+Vr622oYY9K+qcwzy865NZBS2iY9ypGREkqpPqGHciCE+FAuhQPEsUjr2AECP575wQ+doQxkp1hUBQAAAABJRU5ErkJggg==">';V=JSON.parse(d);R=V.style;var L=document.createElement("div");L.setAttribute("class","sendpulse-prompt "+R);if(V.backgroundcolor.length>0){X=X+"background-color: "+V.backgroundcolor+";"}L.setAttribute("style",X);var aa=document.createElement("div");aa.setAttribute("class","sendpulse-prompt-message");var Z=document.createElement("img");Z.setAttribute("class","sendpulse-bell-icon");Z.setAttribute("width","14");Z.setAttribute("height","14");Z.setAttribute("src","https://cdn.sendpulse.com/img/push/icon-ring.svg");if(N){var T=document.createElement("span");T.setAttribute("class","sp-link-wrapper");var W=document.createElement("a");W.setAttribute("class","sp-link");W.setAttribute("href","https://"+b+"/webpush");W.setAttribute("target","_blank");var O=document.createElement("span");if(R=="sendpulse-modal"){O.setAttribute("style","color:"+V.textcolor+" !important;")}O.innerHTML=A[J];if(R!="sendpulse-bar"){W.innerHTML=U}W.appendChild(O);T.appendChild(W)}if(R=="sendpulse-bar"){var Q=document.createElement("div");Q.setAttribute("class","sendpulse-prompt-info sendpulse-prompt-message-text");Q.setAttribute("style","color: "+V.textcolor+" !important;");Q.innerHTML+=t;var S=document.createElement("span");aa.innerHTML+=H+'<svg viewBox="0 0 525.153 525.153" width="40" height="40" xmlns:xlink="http://www.w3.org/1999/xlink" class="sendpulse-bell-icon"><use class="sendpulse-bell-path" style="fill: '+V.textcolor+' !important;" xlink:href="#sp_bell_icon" x="0" y="0" />  </svg>'}else{if(R=="sendpulse-modal"||R=="sendpulse-safari"||R=="sendpulse-fab"){var Q=document.createElement("div");Q.setAttribute("class","sendpulse-prompt-title sendpulse-prompt-message-text");if(V.textcolor.length>0){Q.setAttribute("style","color: "+V.textcolor+" !important;")}Q.innerHTML=B;var S=document.createElement("div");S.setAttribute("class","sendpulse-prompt-info sendpulse-prompt-message-text");if(V.textcolor.length>0){S.setAttribute("style","color: "+V.textcolor+" !important;")}S.innerHTML+=t;if(R=="sendpulse-safari"){Z.setAttribute("src","https://cdn.sendpulse.com"+V.icon);Z.setAttribute("width","64");Z.setAttribute("height","64");aa.appendChild(Z)}else{if(R!="sendpulse-fab"){aa.innerHTML+=H+'<svg viewBox="0 0 525.153 525.153" width="40" height="40" xmlns:xlink="http://www.w3.org/1999/xlink" class="sendpulse-bell-icon"><use class="sendpulse-bell-path" style="fill: '+V.textcolor+' !important;" xlink:href="#sp_bell_icon" x="0" y="0" />  </svg>'}}if(R=="sendpulse-fab"){var Y=document.createElement("div");Y.setAttribute("class","sendpulse-prompt-fab");if(V.btncolor.length>0){Y.setAttribute("style","background-color: "+V.btncolor+" !important;")}Y.innerHTML+=H+'<svg viewBox="0 0 525.153 525.153" width="40" height="40" xmlns:xlink="http://www.w3.org/1999/xlink" class="sendpulse-bell-icon" ><use class="sendpulse-bell-path bell-prompt-fab" style="fill: '+V.iconcolor+' !important;" xlink:href="#sp_bell_icon" x="0" y="0" /></svg>';Y.setAttribute("onclick","oSpP.showPopUp(); return false;")}}}}else{var L=document.createElement("div");L.setAttribute("class","sendpulse-prompt "+R);L.setAttribute("style",X);var aa=document.createElement("div");aa.setAttribute("class","sendpulse-prompt-message");var Q=document.createElement("div");Q.setAttribute("class","sendpulse-prompt-message-text");Q.innerHTML=g+" "+n[J];var S=document.createElement("div");S.setAttribute("class","sendpulse-prompt-info sendpulse-prompt-message-text");var Z=document.createElement("img");Z.setAttribute("class","sendpulse-bell-icon");Z.setAttribute("width","14");Z.setAttribute("height","14");Z.setAttribute("src","https://cdn.sendpulse.com/img/push/icon-ring.svg");S.appendChild(Z);S.innerHTML+=" "+j[J]}if(R!="sendpulse-fab"){var E=document.createElement("div");E.setAttribute("class","sendpulse-prompt-buttons");var ab=document.createElement("button");ab.setAttribute("class","sendpulse-prompt-btn sendpulse-accept-btn");ab.setAttribute("type","button");ab.setAttribute("onclick","oSpP.showPopUp(); return false;");ab.innerHTML=v[J];var G=document.createElement("button");G.setAttribute("class","sendpulse-prompt-btn sendpulse-disallow-btn");G.setAttribute("type","button");G.setAttribute("onclick","oSpP.denyMessage(); return false;");G.innerHTML=z[J];if(R!="sendpulse-popover"){ab.innerHTML=V.allowbtntext;G.innerHTML=V.disallowbtntext;if(R!="sendpulse-safari"){ab.setAttribute("style","background-color:"+V.buttoncolor+" !important;border-color:"+V.buttoncolor+" !important;");G.setAttribute("style","color:"+V.buttoncolor+" !important;")}}if(d.length==0&&N){var T=document.createElement("span");T.setAttribute("class","sp-link-wrapper");var W=document.createElement("a");W.setAttribute("class","sp-link");W.setAttribute("href","https://"+b+"/webpush");W.setAttribute("target","_blank");var O=document.createElement("span");O.innerHTML=A[J];if(R=="sendpulse-modal"){O.setAttribute("style","color:"+V.textcolor+" !important;")}W.appendChild(O);T.appendChild(W);E.appendChild(T)}else{if(N&&typeof T!="undefined"){E.appendChild(T)}}E.appendChild(G);E.appendChild(ab);if(N&&R=="sendpulse-modal"){var P=document.createElement("div");P.innerHTML="&nbsp;";E.appendChild(P)}}aa.appendChild(Q);aa.appendChild(S);if(R!="sendpulse-fab"){aa.appendChild(E);if(R=="sendpulse-bar"){if(N&&typeof T!="undefined"){L.appendChild(T)}}L.appendChild(aa)}else{if(N&&typeof T!="undefined"){aa.appendChild(T)}L.appendChild(aa);L.appendChild(Y)}if(R!="sendpulse-popover"&&R!="sendpulse-safari"&&R!="sendpulse-fab"){var F=document.createElement("button");F.setAttribute("class","sendpulse-prompt-close");F.setAttribute("onclick","oSpP.closePrompt(); return false;");F.setAttribute("style","color:"+V.textcolor+" !important;");F.innerHTML="&times;";L.appendChild(F)}document.body.insertBefore(L,document.body.childNodes[0]);if(R=="sendpulse-modal"){var K=document.createElement("div");K.setAttribute("class","sendpulse-prompt-backdrop");K.setAttribute("style","display:none;");document.body.insertBefore(K,document.body.childNodes[1])}setTimeout(function(){L.className+=L.className?" show-prompt":"show-prompt"},1000)};this.denyMessage=function(){oSpP.sendPromptStat("prompt_denied");oSpP.storeSubscription("DENY");oSpP.closePrompt(true)};this.closePrompt=function(E){if(E===undefined){oSpP.sendPromptStat("prompt_closed")}document.body.removeChild(document.querySelector(".sendpulse-prompt"));if(document.getElementsByClassName("sendpulse-prompt-backdrop").length>0){document.body.removeChild(document.querySelector(".sendpulse-prompt-backdrop"))}oSpP.putValueToDb("SPIDs",{type:"PromptClosed",value:5})};this.initDb=function(G){if(w){return void G()}var F=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;var E=F.open("sendpulse_push_db",2);E.onsuccess=function(H){w=H.target.result;G()};E.onupgradeneeded=function(H){var I=H.target.result;I.createObjectStore("SPIDs",{keyPath:"type"})}};this.getDbValue=function(E,F,G){oSpP.initDb(function(){w.transaction([E],"readonly").objectStore(E).get(F).onsuccess=G})};this.putValueToDb=function(E,F){oSpP.initDb(function(){w.transaction([E],"readwrite").objectStore(E).put(F)})};this.deleteDbValue=function(E,F){oSpP.initDb(function(){w.transaction([E],"readwrite").objectStore(E)["delete"](F)})};this.log=function(E){};this.detectBrowser=function(){var G,F=navigator.userAgent,E=F.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];var H=F.match(/(edge(?=\/))\/?\s*(\d+)/i)||[];if("Edge"===H[1]){return{name:H[1],version:H[2]}}return/trident/i.test(E[1])?(G=/\brv[ :]+(\d+)/g.exec(F)||[],{name:"IE",version:G[1]||""}):"Chrome"===E[1]&&(G=F.match(/\bOPR\/(\d+)/),null!=G)?{name:"Opera",version:G[1]}:(E=E[2]?[E[1],E[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(G=F.match(/version\/(\d+)/i))&&E.splice(1,1,G[1]),{name:E[0],version:E[1]})};this.detectOs=function(){var E="";if(navigator.userAgent.indexOf("Windows")!=-1){return("Windows")}if(navigator.userAgent.indexOf("Android")!=-1){return("Android")}if(navigator.userAgent.indexOf("Linux")!=-1){return("Linux")}if(navigator.userAgent.indexOf("iPhone")!=-1){return("iOS")}if(navigator.userAgent.indexOf("Mac")!=-1){return("Mac OS")}if(navigator.userAgent.indexOf("FreeBSD")!=-1){return("FreeBSD")}return""};this.uns=function(){oSpP.deleteDbValue("SPIDs","SubscriptionId")};this.getMessageLang=function(E){E=E.substring(0,2).toLowerCase();if(E=="ua"||E=="uk"){return"ua"}else{if(E=="ru"){return"ru"}else{if(E=="de"){return"de"}else{return"en"}}}};this.push=function(E,F){if(!oSpP.detectSite()){oSpP.log("Application allowed only for "+f);return false}k[E]=F;oSpP.getDbValue("SPIDs","SubscriptionId",function(G){if(G.target.result===undefined){if(!s){s=setInterval(function(){oSpP.getDbValue("SPIDs","SubscriptionId",function(H){if(H.target.result!==undefined){oSpP.sendUpdatesToServer(H.target.result.value);clearInterval(s);s=false}})},1000)}}else{oSpP.sendUpdatesToServer(G.target.result.value)}})};this.sendUpdatesToServer=function(E){var G=new XMLHttpRequest();G.open("POST",h,true);G.setRequestHeader("Content-Type","application/json");var F={action:"subscription",subscriptionId:E,subscription_action:"update_variables",appkey:D,custom_data:{variables:k}};G.send(JSON.stringify(F))};this.sendPromptStat=function(E){};this.getPromptDelay=function(){return parseInt(y)};this.startDelayedSubscription=function(F){if((parseInt(y))>0){var E=setInterval(function(){oSpP.getDbValue("SPIDs","PromptDelay",function(G){if(G.target.result!==undefined){if((new Date().getTime())>=G.target.result.value){clearInterval(E);F()}}else{F()}})},1000)}else{F()}};this.getAuthEmailFromUrl=function(){var G=window.location.href;var F="spush";var I=new RegExp("[?&]"+F+"(=([^&#]*)|&|#|$)"),H=I.exec(G);if(!H){return}if(!H[2]){return}var E=atob(decodeURIComponent(H[2].replace(/\+/g," ")));if(typeof E!="undefined"&&E.length>0){oSpP.push("email",E)}}}window.addEventListener("load",function(){if(oSpP.getPromptDelay()>0){oSpP.getDbValue("SPIDs","PromptDelay",function(a){if(a.target.result===undefined){oSpP.putValueToDb("SPIDs",{type:"PromptDelay",value:(new Date().getTime())+oSpP.getPromptDelay()*1000});oSpP.start()}else{oSpP.start()}})}else{oSpP.start()}oSpP.getAuthEmailFromUrl()});var oSpP=new oSendpulsePush();